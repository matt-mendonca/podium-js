var Podium=Podium||{};!function(e){Podium.admin=function(){var n=function(){var n=e('a[href="'+window.location.pathname+'"]');n.length>1?n.not(".trigger-submenu").addClass("active"):n.addClass("active")},t=function(){e(".main-menu .off-canvas-list > li").not(".has-submenu").mouseenter(function(){e(".left-submenu.move-right .back").click()}),e(".main-menu .has-submenu").mouseenter(function(){e(this).find(".trigger-submenu").click()}),e(".main-menu .left-submenu").mouseleave(function(){e(this).find(".back").click()})},i=function(){e(".route input").blur(o)},o=function(){var n=e(this).val();"/"!==n.charAt(0)&&(n="/"+n),n=n.toLowerCase().replace(/\s+/g,"-"),e(this).val(n)},a=function(){e(".delete-user").click(function(){var n=e(".edit-user-form").attr("action");e(".current-password input").val()&&(n+="/delete",e(".edit-user-form").attr("action",n)),e("#deleteModal").foundation("reveal","close"),e(".edit-user-form").submit()})},u=function(){var n=io.connect("/"),t=function(n){e(".slide-view").attr("href",n+"?controller=true")};t(e(".slide-decks").val()),e(".slide-decks").change(function(){t(e(this).val())}),n.on("connect",function(){console.log("Controller connected."),e(".nav-buttons .button").click(function(){var t=e(".slide-decks").val(),i=e(this).attr("data-command");n.emit("command",{route:t,text:i,token:Podium.token})})})};return{setActiveLinks:n,mainMenuHoverLogic:t,slideEditValidate:i,editUserForm:a,deckController:u}}(),e(document).ready(function(){e('a[href="'+window.location.pathname+'"]').addClass("active"),e(".main-menu .left-submenu a[href]").click(function(e){e.stopPropagation()}),e(".main-menu .has-submenu").click(function(){e(".left-submenu.move-right").removeClass("move-right")}),e(".edit-slide-form").length>0||e(".create-slide-form").length>0?Podium.admin.slideEditValidate():e(".edit-user-form").length>0?Podium.admin.editUserForm():e(".deck-controller").length>0&&Podium.admin.deckController()})}(jQuery);
var Podium=Podium||{};!function(a){Podium.admin=function(){var b=function(){var b=a(this).attr("href");b===window.location.pathname&&a(this).addClass("active")},c=function(){a(".route input").blur(sanitizeRouteField)};return sanitizeRouteField=function(){var b=a(this).val();"/"!==b.charAt(0)&&(b="/"+b),b=b.toLowerCase().replace(/\s+/g,"-"),a(this).val(b)},deckController=function(){var b=io.connect("/"),c=function(b){a(".slide-view").attr("href",b+"?controller=true")};c(a(".slide-decks").val()),a(".slide-decks").change(function(){c(a(this).val())}),b.on("connect",function(){console.log("Controller connected."),a(".nav-buttons .button").click(function(){var c=a(".slide-decks").val(),d=a(this).attr("data-command");b.emit("command",{route:c,text:d,token:Podium.token})})})},{setActiveLinks:b,slideEditValidate:c,deckController:deckController}}(),a(document).ready(function(){a(".main-menu li a").each(Podium.admin.setActiveLinks),a(".slide-edit-form").length>0?Podium.admin.slideEditValidate():a(".deck-controller").length>0&&Podium.admin.deckController()})}(jQuery);
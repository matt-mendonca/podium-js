var Podium=Podium||{};!function(e){Podium.admin=function(){var n=function(){var n=e('a[href="'+window.location.pathname+'"]');n.length>1?n.not(".trigger-submenu").addClass("active"):n.addClass("active")},t=function(){e(".main-menu .off-canvas-list > li").not(".has-submenu").mouseenter(function(){e(".left-submenu.move-right .back").click()}),e(".main-menu .has-submenu").mouseenter(function(){e(this).find(".trigger-submenu").click()}),e(".main-menu .left-submenu").mouseleave(function(){e(this).find(".back").click()})},o=function(){e(".route input").blur(i),e(".delete-cancel").click(function(){e("#deleteModal").foundation("reveal","close")})},i=function(){var n=e(this).val();"/"!==n.charAt(0)&&(n="/"+n),n=n.toLowerCase().replace(/\s+/g,"-"),e(this).val(n)},c=function(){console.log("editUserForm"),e(".delete-cancel").click(function(){e("#deleteModal").foundation("reveal","close")}),e(".delete-user").click(function(){console.log("delete-user-click");e(".edit-user-form").attr("action");""!==e(".current-password input").val()&&console.log("current-password input"),e("#deleteModal").foundation("reveal","close"),e(".edit-user-form").submit(function(){return!1})})},l=function(){var n=io.connect("/"),t=function(n){e(".slide-view").attr("href",n+"?controller=true")};t(e(".slide-decks").val()),e(".slide-decks").change(function(){t(e(this).val())}),n.on("connect",function(){console.log("Controller connected."),e(".nav-buttons .button").click(function(){var t=e(".slide-decks").val(),o=e(this).attr("data-command");n.emit("command",{route:t,text:o,token:Podium.token})})})};return{setActiveLinks:n,mainMenuHoverLogic:t,slideEditForm:o,editUserForm:c,deckController:l}}(),e(document).ready(function(){e('a[href="'+window.location.pathname+'"]').addClass("active"),e(".main-menu .left-submenu a[href]").click(function(e){e.stopPropagation()}),e(".main-menu .has-submenu").click(function(){e(".left-submenu.move-right").removeClass("move-right")}),e(".edit-slide-form").length>0||e(".create-slide-form").length>0?Podium.admin.slideEditForm():e(".edit-user-form").length>0||e(".deck-controller").length>0&&Podium.admin.deckController()})}(jQuery);